<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>  
	  
  	工具 - 
  	
	</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="atom.xml" rel="alternate" title="" type="application/atom+xml">

	<link href="asset/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="asset/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script src="asset/javascripts/jquery.min.js"></script>
	<script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/solarized_dark.css" media="screen, projection" rel="stylesheet" type="text/css">
<script>hljs.initHighlightingOnLoad();</script>

	<!--[if lt IE 9]><script src="asset/javascripts/html5.js"></script><![endif]-->
	<!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
	<style type="text/css">
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 300;
  src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 400;
  src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 700;
  src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
	</style>
	
	<style type="text/css">
	.container .left-col{ opacity: 1;}
	#pagenavi a{ font-size: 1.3em;}
	#pagenavi .next:before{ top: 3px;}
	#pagenavi .prev:before{ top: 3px;}
	.container .mid-col .mid-col-container #content .archives .title{ font-size: 1.5em;}
	.container .mid-col .mid-col-container #content article{ padding: 15px 0px;}
	#header .subtitle {
		line-height: 1.2em;
		padding-top: 8px;
	}
	article pre{ background: none; border: none; padding: 0;}
	article .entry-content{text-align: left;}
	.share-comment{ padding: 25px 0px; clear: both;}
	hr{ margin: 20px 0px;border: 0; border-top:solid 1px #ddd;}
	</style>
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
				 
					
					<h1><a href="index.html"></a></h1>
					<p class="subtitle"></p>
					<nav id="main-nav">
						<ul class="main">
						
						  <li id=""><a target="_self" href="index.html">Home</a></li>
						
						  <li id=""><a target="_self" href="archives.html">Archives</a></li>
						
						  <li id=""><a target="_blank" href="https://github.com/Caolongs">Alongs</a></li>
						
						</ul>
					</nav>

					<nav id="sub-nav">
						<div class="social">










<a target="_blank" class="github" target="_blank" href="https://github.com/Caolongs" title="GitHub">GitHub</a>


								

								<a class="rss" href="atom.xml" title="RSS">RSS</a>
							
						</div>
					</nav>
				</header>				
			</div>
		</div>	
		<div class="mid-col">
			<div class="mid-col-container"> <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-05-04T14:46:00+08:00" itemprop="datePublished">2018/5/4</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15254163602054.html" itemprop="url">
		ShadowSocks 配置及BBR加速</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>ShadowSocks势必先要后买VPS，本人目前使用的是 <a href="https://www.vultr.com/?ref=7305309">Vultr</a>, 购买流程此文不再赘述。</p>

<h2 id="toc_0">SSH 登录 VPS</h2>

<p>登录远程vps可使用Vultr提供网页的<code>View Console</code>(体验太差)，或使用ssh客户端工具进行登录。<br/>
此处以Mac终端登录为例：</p>

<p>打开终端,登录远程服务器，回车，输入yes确认是否连接，然后输入密码</p>

<pre><code class="language-text">$ ssh root@108.61.219.99
</code></pre>

<p><code>Username</code>、<code>IP Address</code>可见创建的服务器详情</p>

<h2 id="toc_1">VPS安装ShadowSocks</h2>

<h4 id="toc_2">1. 输入以下命令</h4>

<pre><code class="language-text">wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh
chmod +x shadowsocks-all.sh
./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log
</code></pre>

<h4 id="toc_3">2. 选择Shadowsocks server，此处本人使用的是ShadowsocksR</h4>

<pre><code class="language-text">Which Shadowsocks server you&#39;d select:
1) Shadowsocks-Python
2) ShadowsocksR
3) Shadowsocks-Go
4) Shadowsocks-libev
Please enter a number (Default Shadowsocks-Python):2

You choose = ShadowsocksR

Please enter password for ShadowsocksR
(Default password: teddysun.com):

</code></pre>

<h4 id="toc_4">3. 配置信息</h4>

<p>根据提示配置<code>Password</code>、<code>Port</code>、<code>Protocol</code>、<code>obfs</code>、<code>Encryption Method</code></p>

<pre><code class="language-text">Congratulations, ShadowsocksR server install completed!
Your Server IP        :  108.61.0.0
Your Server Port      :  9999
Your Password         :  .......
Your Protocol         :  origin
Your obfs             :  plain
Your Encryption Method:  aes-256-cfb

Your QR Code: (For ShadowsocksR Windows, Android clients only)
 ssr://MTA4LjYxLjIxOS45OTo5OTk5O.......
Your QR Code has been saved as a PNG file path:
 /root/shadowsocks_r_qr.png

Welcome to visit: https://teddysun.com/486.html
Enjoy it!
</code></pre>

<h4 id="toc_5">4. shadowsocks 常用命令</h4>

<h5 id="toc_6">卸载方法</h5>

<pre><code class="language-text">$ ./shadowsocks-all.sh uninstall
</code></pre>

<h5 id="toc_7">启动脚本(ShadowsocksR 版)：</h5>

<pre><code class="language-text">/etc/init.d/shadowsocks-r start | stop | restart | status
</code></pre>

<h5 id="toc_8">多开端口</h5>

<ul>
<li>找到配置文件<code>/etc/shadowsocks-r/config.json</code>或（<code>/etc/shadowsocks.json</code>）,修改如下：</li>
</ul>

<pre><code class="language-text">{
    &quot;server_port&quot;:9998,
    &quot;password&quot;:&quot;123456&quot;,
}

改为
{
    &quot;port_password&quot;:{
        &quot;9998&quot;:&quot;password1&quot;,
        &quot;9999&quot;:&quot;password2&quot;
     },
}
</code></pre>

<ul>
<li>检测某个端口是否开启,返回<code>yes</code>说明已开启</li>
</ul>

<pre><code class="language-text">$ firewall-cmd --query-port=9998/tcp --zone=public #查询9998端口是否开启
</code></pre>

<ul>
<li>开启某端口代码</li>
</ul>

<pre><code class="language-text">firewall-cmd --zone=public --add-port=9998/tcp --permanent #添加9998端口
</code></pre>

<ul>
<li>最后，重启VPS服务器<code>reboot</code></li>
</ul>

<h4 id="toc_9">5. BBR 脚本</h4>

<p>使用root用户登录，运行以下命令：</p>

<pre><code class="language-text">wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh &amp;&amp; chmod +x bbr.sh &amp;&amp; ./bbr.sh
</code></pre>

<p>验证方法</p>

<pre><code class="language-text">$ uname -r
# 查看内核版本，显示为最新版就表示 OK 了
# ————————————
$ sysctl net.ipv4.tcp_available_congestion_control
# 返回值一般为：
# net.ipv4.tcp_available_congestion_control = bbr cubic reno
# ————————————
$ sysctl net.ipv4.tcp_congestion_control
# 返回值一般为：
# net.ipv4.tcp_congestion_control = bbr
# ————————————
$ sysctl net.core.default_qdisc
# 返回值一般为：
# net.core.default_qdisc = fq
# ————————————
$ lsmod | grep bbr
# 返回值有 tcp_bbr 模块即说明bbr已启动。
</code></pre>

<h2 id="toc_10">安装 ShadowsocksR 客户端</h2>

<p><a href="https://github.com/qinyuhang/ShadowsocksX-NG-R/releases">MAC版ShadowsocksX-NG-R</a></p>

<p>下载ShadowsocksR配置服务器设置，填写相关信息</p>

<h2 id="toc_11">Chrome插件—SwitchyOmega</h2>

<p><a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?utm_source=chrome-ntp-icon">SwitchyOmega</a></p>

<p>.......</p>

<h2 id="toc_12">参考</h2>

<p><a href="https://www.diycode.cc/topics/738">轻松在 VPS 搭建 Shadowsocks 翻墙 </a><br/>
<a href="https://teddysun.com/486.html">Shadowsocks 一键安装脚本（四合一）</a><br/>
<a href="https://teddysun.com/489.html">一键安装最新内核并开启 BBR 脚本</a></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-24T14:58:54+08:00" itemprop="datePublished">2018/4/24</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15245531347178.html" itemprop="url">
		MonkeyDev</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<blockquote>
<p>安装 MonkeyDev <br/>
<a href="https://github.com/AloneMonkey/MonkeyDev/wiki/%E5%AE%89%E8%A3%85">https://github.com/AloneMonkey/MonkeyDev/wiki/安装</a></p>
</blockquote>

<ol>
<li>安装最新的theos</li>
</ol>

<pre><code class="language-text">$ sudo git clone --recursive https://github.com/theos/theos.git /opt/theos
</code></pre>

<ol>
<li>安装ldid(如安装theos过程安装了ldid，跳过)</li>
</ol>

<pre><code class="language-text">$ brew install ldid
</code></pre>

<ol>
<li>执行安装MonkeyDev命令</li>
</ol>

<pre><code class="language-text">$ sudo /bin/sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/AloneMonkey/MonkeyDev/master/bin/md-install)&quot;
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-20T22:17:24+08:00" itemprop="datePublished">2018/4/20</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15242338446694.html" itemprop="url">
		Cycript 安装及使用</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<blockquote>
<p>Cycript允许开发人员通过交互式控制台，使用Objective-C ++和JavaScript语法的混合，在iOS或Mac OS X上检测和修改正在运行的应用程序。</p>
</blockquote>

<h3 id="toc_0">1. 安装 cycript</h3>

<p>下载 SDK ，将下载好的文件解压到 <code>磁盘/opt</code>目录下<br/>
<a href="http://www.cycript.org/">http://www.cycript.org/</a></p>

<p><img src="media/15242338446694/15242351239079.jpg" alt=""/></p>

<h3 id="toc_1">2. 配置环境变量</h3>

<h5 id="toc_2">1、 创建或打开 <code>.bash_profile</code> 文件</h5>

<p><code>cd</code> 到当前用户目录下 <code>cd ~</code> ，执行：</p>

<pre><code class="language-text">$ vim .bash_profile
</code></pre>

<h5 id="toc_3">2、 增加cycript的绝对路径</h5>

<pre><code class="language-text">export cycript_path=&quot;/opt/cycript_0.9.594&quot;
PATH=$PATH:$cycript_path
</code></pre>

<h5 id="toc_4">3、 更新刚配置的环境变量</h5>

<pre><code class="language-text">$ source .bash_profile 
</code></pre>

<p>此外，打开<code>vim .zshrc</code> 将 <code>.bash_profile</code> 加入 （适用iterm2 zsh组合）<code>source .bash_profile</code></p>

<h5 id="toc_5">4、 验证配置是否成功，若终端输出 <code>cy#</code> 表示成功</h5>

<pre><code class="language-text">$ cycript
# cy
</code></pre>

<h3 id="toc_6">3. 使用</h3>

<h5 id="toc_7">1、安装 <a href="https://github.com/AloneMonkey/MonkeyDev/wiki/%E5%AE%89%E8%A3%85">MonkeyDev</a> 运行app</h5>

<h5 id="toc_8">2、使用<code>Cycript</code>连接到已运行手机上的app</h5>

<pre><code class="language-text">cycript [-c] [-p &lt;pid|name&gt;] [-r &lt;host:port&gt;] [&lt;script&gt; [&lt;arg&gt;...]]

例如：
cycript -r 10.10.3.145
</code></pre>

<h5 id="toc_9">3、 命令语法使用</h5>

<p><a href="http://www.cycript.org/manual/#4dd1ca6b-2bd5-48e4-a0ee-06b0947880f5">manual</a></p>

<h3 id="toc_10">4. 问题</h3>

<h5 id="toc_11">1、执行<code>$ cycript</code>出现以下情况：</h5>

<pre><code class="language-text">dyld: Library not loaded: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/libruby.2.0.0.dylib
  Referenced from: /opt/cycript_0.9.594/Cycript.lib/cycript-apl
  Reason: image not found
</code></pre>

<p>此情况为电脑的 ruby 版本太高 大于 <code>2.0</code><br/>
查看ruby版本 <code>$ ruby -v</code></p>

<p>解决： 创建Ruby2.0版本文件，并将2.3版本文件拷贝到2.0中</p>

<pre><code class="language-text">$ sudo mkdir -p /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/
$ sudo ln -s /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/libruby.2.3.0.dylib /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/libruby.2.0.0.dylib
</code></pre>

<h5 id="toc_12">2、<code>sudo mkdir</code> 出现权限问题，关闭SIP,关闭详情请参考 <a href="https://caolongs.github.io/2018/04/XtraFinder-%E7%B3%BB%E7%BB%9F%E5%AE%8C%E6%95%B4%E6%80%A7%E4%BF%9D%E6%8A%A4(SIP)/">系统完整性保护(SIP)</a></h5>

<pre><code class="language-text">mkdir: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib: Operation not permitted
</code></pre>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-19T22:41:21+08:00" itemprop="datePublished">2018/4/19</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15241488811717.html" itemprop="url">
		XtraFinder</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p><a href="https://www.trankynam.com/xtrafinder/">https://www.trankynam.com/xtrafinder/</a></p>

<p>在早期的OS X上，只需打开XtraFinderInstaller即可安装XtraFinder。</p>

<p>从OS X 10.11开始，系统完整性保护会阻止代码注入（以及其他许多事情）。<br/>
XtraFinder的工作原理是将其代码注入Finder应用程序进程。<br/>
为了安装XtraFinder，您需要禁用系统完整性保护。<br/>
XtraFinder安装完成后，您可以重新启用系统完整性保护。</p>

<p>有关系统完整性保护的更多信息，请访问此页<a href="http://www.trankynam.com/xtrafinder/sip.html">http://www.trankynam.com/xtrafinder/sip.html</a></p>

<h3 id="toc_0">1、第一次安装XtraFinder的步骤</h3>

<p>1.禁用系统完整性保护。<br/>
2.打开XtraFinderInstaller安装XtraFinder。<br/>
3.重新启用系统完整性保护。</p>

<h3 id="toc_1">2、更新XtraFinder</h3>

<p>您不需要重复安装过程。<br/>
只需将XtraFinder复制到/ Applications目录即可。</p>

<h3 id="toc_2">3、无需打开XtraFinderInstaller即可手动安装</h3>

<p>1.将<code>Extra</code>目录中的<code>XtraFinderInjector.osax</code>复制到<code>/System/Library/ScriptingAdditions</code><br/>
2.将<code>XtraFinder</code>复制到<code>/Applications</code></p>

<h3 id="toc_3">4、禁用系统完整性保护的步骤</h3>

<p>1.通过重新启动计算机并在启动时按住<code>Command和R</code>键启动到恢复操作系统。<br/>
2.从 Utilities 菜单启动 Terminal。<br/>
3.输入以下命令：<code>csrutil disable</code><br/>
4.重新启动电脑。</p>

<h3 id="toc_4">5、将系统完整性保护恢复到原始状态：</h3>

<p>启动到恢复操作系统并输入以下命令：<code>csrutil clear</code></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-19T22:27:47+08:00" itemprop="datePublished">2018/4/19</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15241480672826.html" itemprop="url">
		XtraFinder 系统完整性保护(SIP)</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p><a href="http://www.trankynam.com/xtrafinder/sip.html">XtraFinder 系统完整性保护原文</a>（译）</p>

<h3 id="toc_0">1、关于OS X 10.11中的系统完整性保护</h3>

<p><a href="https://support.apple.com/en-us/HT204899">苹果的文章</a>。<br/>
系统完整性保护阻止代码注入（以及其他许多事情）。</p>

<p>XtraFinder的工作原理是将其代码注入Finder应用程序进程。</p>

<h3 id="toc_1">2、如何让XtraFinder在OS X 10.11中工作</h3>

<p>您需要部分禁用系统完整性保护。</p>

<p>我不鼓励您禁用系统完整性保护。它会让你的电脑不安全。</p>

<h3 id="toc_2">3、如何部分禁用系统完整性保护</h3>

<p>参考这篇<a href="https://developer.apple.com/library/content/documentation/Security/Conceptual/System_Integrity_Protection_Guide/ConfiguringSystemIntegrityProtection/ConfiguringSystemIntegrityProtection.html">苹果的文章</a>。</p>

<p>按着这些次序：</p>

<h5 id="toc_3">1. 通过重新启动计算机并在启动时按住<code>Command+R</code>键启动到恢复操作系统。</h5>

<h5 id="toc_4">2. 从 Utilities 菜单启动 Terminal。</h5>

<h5 id="toc_5">3. 输入以下命令：<code>csrutil enable --without debug</code></h5>

<h5 id="toc_6">4. 重新启动您的计算机。</h5>

<h3 id="toc_7">4、“csrutil enable --without debug” 命令的作用是什么？</h3>

<p>它允许代码注入。这意味着XtraFinder可以将其代码注入Finder应用程序进程。</p>

<h3 id="toc_8">5、如何将系统完整性保护恢复到原始状态</h3>

<p>启动到恢复操作系统并输入以下命令：<code>csrutil clear</code></p>

<p>完全禁用SIP <code>csrutil disable</code><br/>
启用SIP <code>csrutil enable</code></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-19T20:34:29+08:00" itemprop="datePublished">2018/4/19</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15241412696951.html" itemprop="url">
		Go2Shell and AppleScript</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<blockquote>
<p>给Finder加上一个打开当前路径的终端的功能</p>

<p>有两种实现：<br/>
Go2Shell App 和 AppleScript</p>

<p><strong>扩展：</strong></p>

<p>AppleScript 实现 Go2Shell 一样的可视化打开方式</p>
</blockquote>

<h2 id="toc_0">一、 Go2Shell</h2>

<h3 id="toc_1">1. 安装</h3>

<p>1、Go2Shell官方安装 （推荐，因为AppStore下载的版本太低，无法打开iTerm2 -坑-）<br/>
<a href="http://zipzapmac.com/Go2Shell">http://zipzapmac.com/Go2Shell</a> </p>

<p>2、<a href="https://itunes.apple.com/cn/app/go2shell/id445770608?mt=12">AppStore下载</a></p>

<p><img src="media/15241412696951/15241416276817.jpg" alt=""/></p>

<p>至此就可以打开shell，不过仅仅是打开系统默认的终端shell</p>

<h3 id="toc_2">2. 进入 Preferences 的方式</h3>

<pre><code class="language-text">open -a Go2Shell --args config
</code></pre>

<p><img src="media/15241412696951/15241419447692.jpg" alt=""/></p>

<p>iTerm2 不能打开当前文件所在目录（）</p>

<h3 id="toc_3">3. 官网下载效果图(多了个 <code>&gt;_&lt;</code> 能直接打开配置)</h3>

<p><img src="media/15241412696951/15241460616684.jpg" alt=""/></p>

<h2 id="toc_4">二、配置 Automator 方法</h2>

<h3 id="toc_5">1. 新建 Automator 服务</h3>

<p>打开<code>Automator</code>，选择<code>新建</code>，选择<code>服务</code></p>

<h3 id="toc_6">2. 设置 Automator 服务</h3>

<h5 id="toc_7">1、 服务接受设为没有输入，位置设为<code>Finder(访达)</code></h5>

<p><img src="media/15241412696951/15241426742785.jpg" alt=""/></p>

<h5 id="toc_8">2、 从左侧的资源库中找出 运行 <code>AppleScript</code>，拖到右侧，然后保存为<code>Open iTerm Here</code></h5>

<p><img src="media/15241412696951/15241444900342.jpg" alt=""/></p>

<blockquote>
<p>复制以下代码</p>

<p>代码意思是将当前最前面的Finder地址如果获取不到，则返回桌面地址然后通知iTerm的第一个窗口新建标签并跳到这个目录去</p>
</blockquote>

<pre><code class="language-text">on run {input, parameters}

    tell application &quot;Finder&quot;

        set pathList to (quoted form of POSIX path of (folder of the front window as alias))

        set command to &quot;clear; cd &quot; &amp; pathList

    end tell


    tell application &quot;System Events&quot;

        -- some versions might identify as &quot;iTerm2&quot; instead of &quot;iTerm&quot;

        set isRunning to (exists (processes where name is &quot;iTerm&quot;)) or (exists (processes where name is &quot;iTerm2&quot;))

    end tell


    tell application &quot;iTerm&quot;

        activate

        set hasNoWindows to ((count of windows) is 0)

        if isRunning and hasNoWindows then

            create window with default profile

        end if

        select first window


        tell the first window

            if isRunning and hasNoWindows is false then

                create tab with default profile

            end if

            tell current session to write text command

        end tell

    end tell


end run


</code></pre>

<h5 id="toc_9">3、点击运行就能在 iTerm2 中打开当前目录</h5>

<p><img src="media/15241412696951/15241432094154.jpg" alt=""/></p>

<h5 id="toc_10">4、 设置快捷键</h5>

<p>打开系统设置，再去键盘设置里改一下快捷键，然后就可以快速在Finder中通过iTerm打开当前目录了<br/>
<img src="media/15241412696951/15241437705558.jpg" alt=""/></p>

<h2 id="toc_11">三、扩展</h2>

<h3 id="toc_12">Automator 创建应用</h3>

<p>使用的 Automator AppleScript 时候就在想为什么使用创建的服务，好吧，换个思路创建个应用，尝试着以Go2Shell的方式按住<code>command</code>键拖到文件夹上，结果和Go2Shell实现的效果一样OK，对 Automator 的使用充满期望~~<br/>
<img src="media/15241412696951/15241470137311.jpg" alt=""/></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-18T16:19:00+08:00" itemprop="datePublished">2018/4/18</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15240395407492.html" itemprop="url">
		iTerm2</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>强大的 Mac OS 终端利器，跟着教程走了一遍。</p>

<h3 id="toc_0">1. 安装 iTerm2</h3>

<p>下载地址：<a href="https://www.iterm2.com/downloads.html">https://www.iterm2.com/downloads.html</a><br/>
下载的是压缩文件，解压后是执行程序文件，你可以直接双击，或者直接将它拖到 Applications 目录下。</p>

<p>或者你可以直接使用 Homebrew 进行安装：</p>

<pre><code class="language-text">$ brew cask install iterm2
</code></pre>

<h3 id="toc_1">2. 配置 iTerm2 主题</h3>

<p>iTerm2 最常用的主题是 Solarized Dark theme，下载地址：<a href="http://ethanschoonover.com/solarized">http://ethanschoonover.com/solarized</a></p>

<p>下载的是压缩文件，你先解压一下，然后打开 iTerm2，按<code>Command + ,</code>键，打开 Preferences 配置界面，然后 <code>Profiles -&gt; Colors -&gt; Color Presets -&gt; Import</code>，选择刚才解压的<code>solarized-&gt;iterm2-colors-solarized-&gt;Solarized Dark.itermcolors</code>文件，导入成功，最后选择 Solarized Dark 主题，就可以了。<br/>
<img src="media/15240236247092/15240328372916.jpg" alt=""/></p>

<h3 id="toc_2">3. 配置 Oh My Zsh</h3>

<p>Oh My Zsh 是对主题的进一步扩展，地址：<a href="https://github.com/robbyrussell/oh-my-zsh">https://github.com/robbyrussell/oh-my-zsh</a></p>

<p>一键安装：</p>

<pre><code class="language-text">$ sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
</code></pre>

<p>安装好之后，需要把 Zsh 设置为当前用户的默认 Shell（这样新建标签的时候才会使用 Zsh）：</p>

<pre><code class="language-text">$ chsh -s /bin/zsh
</code></pre>

<p>然后，我们编辑<code>vim ~/.zshrc</code>文件，将主题配置修改为<code>ZSH_THEME=&quot;agnoster&quot;</code>。</p>

<p><img src="media/15240236247092/15240328878602.jpg" alt=""/><br/>
<code>agnoster</code>是比较常用的 zsh 主题之一，你可以挑选你喜欢的主题，zsh 主题列表：<a href="https://github.com/robbyrussell/oh-my-zsh/wiki/themes">https://github.com/robbyrussell/oh-my-zsh/wiki/themes</a></p>

<h3 id="toc_3">4. 配置 Meslo 字体</h3>

<p>使用上面的主题，需要 Meslo 字体支持，要不然会出现乱码的情况，字体下载地址：<a href="https://github.com/powerline/fonts/blob/master/Meslo%20Slashed/Meslo%20LG%20M%20Regular%20for%20Powerline.ttf">Meslo LG M Regular for Powerline.ttf</a></p>

<p>下载好之后，直接在 Mac OS 中安装即可。</p>

<p>然后打开 iTerm2，按<code>Command + ,</code>键，打开 Preferences 配置界面，然后<code>Profiles -&gt; Text -&gt; Font -&gt; Chanage Font，选择 Meslo LG M Regular for Powerline</code> 字体。<br/>
<img src="media/15240236247092/15240335911662.jpg" alt=""/></p>

<p>效果：<br/>
<img src="media/15240236247092/15240336572945.jpg" alt=""/></p>

<h3 id="toc_4">5. 声明高亮</h3>

<p>特殊命令和错误命令，会有高亮显示。</p>

<p>使用 Homebrew 安装：</p>

<pre><code class="language-text">$ brew install zsh-syntax-highlighting
</code></pre>

<p>安装成功之后，编辑<code>vim ~/.zshrc</code>文件，在最后一行增加下面配置：</p>

<pre><code class="language-text">source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</code></pre>

<p><img src="media/15240236247092/15240338613185.jpg" alt=""/></p>

<p>特殊命令和错误命令，会有高亮显示效果：<br/>
<img src="media/15240236247092/15240346220825.jpg" alt=""/></p>

<h3 id="toc_5">6. 自动建议填充</h3>

<p>这个功能是非常实用的，可以方便我们快速的敲命令。</p>

<p>配置步骤，先克隆<code>zsh-autosuggestions</code>项目，到指定目录：</p>

<pre><code class="language-text">$ git clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions
</code></pre>

<p>然后编辑<code>vim ~/.zshrc</code>文件，找到plugins配置，增加<code>zsh-autosuggestions</code>插件。<br/>
<img src="media/15240236247092/15240340214194.jpg" alt=""/><br/>
<mark>注：</mark>上面声明高亮，如果配置不生效的话，在plugins配置，再增加zsh-syntax-highlighting插件试试。<br/>
有时候因为自动填充的颜色和背景颜色很相似，以至于自动填充没有效果，我们可以手动更改下自动填充的颜色配置</p>

<h3 id="toc_6">7. 左右键跳转</h3>

<p>主要是按住<code>option + → or ←</code>键，在命令的开始和结尾跳转切换，原本是不生效的，需要手动开启下。</p>

<p>打开 iTerm2，按<code>Command + ,</code>键，打开 Preferences 配置界面，然后<code>Profiles → Keys → Load Preset... → Natural Text Editing</code>，就可以了。</p>

<h3 id="toc_7">8. iTerm2 快速隐藏和显示</h3>

<p>这个功能也非常使用，就是通过快捷键，可以快速的隐藏和打开 iTerm2，示例配置（<code>Commond + .</code>）：<br/>
<img src="media/15240236247092/15240344213280.jpg" alt=""/></p>

<h3 id="toc_8">9. iTerm2 隐藏用户名和主机名</h3>

<p>有时候我们的用户名和主机名太长，比如我的<code>caolongjian@caolongjiandeMacBook-Pro</code>，终端显示的时候会很不好看（上面图片中可以看到），我们可以手动去除。</p>

<p>编辑<code>vim ~/.zshrc</code>文件，增加<code>DEFAULT_USER=&#39;caolongjian&#39;</code>配置，示例：</p>

<p><img src="media/15240236247092/15240353400543.jpg" alt=""/><br/>
注意： 使用单引号 或者 DEFAULT_USER 放在 ZSH_THEME上面 否则 DEFAULT_USER 不生效<br/>
<img src="media/15240236247092/15240357531048.jpg" alt=""/></p>

<p>效果：<br/>
<img src="media/15240236247092/15240358493334.jpg" alt=""/></p>

<h3 id="toc_9">10. iTerm2 配置代理</h3>

<p>编辑~ vim ~/.zshrc，增加下面配置（使用的 shadowsocks）：</p>

<pre><code class="language-text"># proxy list
alias proxy=&#39;export all_proxy=socks5://127.0.0.1:1086&#39;
alias unproxy=&#39;unset all_proxy&#39;
</code></pre>

<p>iTerm2 需要新建标签页，才有效果：</p>

<pre><code class="language-text">$ proxy
$ curl ip.cn
当前 IP：185.225.14.5 来自：美国

$ unproxy
$ curl ip.cn
当前 IP：115.236.186.130 来自：浙江省杭州市 电信
</code></pre>

<h3 id="toc_10">11. iTerm2 快捷命令</h3>

<table>
<thead>
<tr>
<th style="text-align: left">命令</th>
<th style="text-align: left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">command + t</td>
<td style="text-align: left">新建标签</td>
</tr>
<tr>
<td style="text-align: left">command + w</td>
<td style="text-align: left">关闭标签</td>
</tr>
<tr>
<td style="text-align: left">command + 数字 command + 左右方向键</td>
<td style="text-align: left">切换标签</td>
</tr>
<tr>
<td style="text-align: left">command +</td>
<td style="text-align: left">enter 切换全屏</td>
</tr>
<tr>
<td style="text-align: left">command + f</td>
<td style="text-align: left">查找</td>
</tr>
<tr>
<td style="text-align: left">command + d</td>
<td style="text-align: left">垂直分屏</td>
</tr>
<tr>
<td style="text-align: left">command + shift + d</td>
<td style="text-align: left">水平分屏</td>
</tr>
<tr>
<td style="text-align: left">command + option +</td>
<td style="text-align: left">方向键</td>
</tr>
<tr>
<td style="text-align: left">command + [ 或 command + ]</td>
<td style="text-align: left">切换屏幕</td>
</tr>
<tr>
<td style="text-align: left">command + ;</td>
<td style="text-align: left">查看历史命令</td>
</tr>
<tr>
<td style="text-align: left">command + shift + h</td>
<td style="text-align: left">查看剪贴板历史</td>
</tr>
<tr>
<td style="text-align: left">ctrl + u</td>
<td style="text-align: left">清除当前行</td>
</tr>
<tr>
<td style="text-align: left">ctrl + l</td>
<td style="text-align: left">清屏</td>
</tr>
<tr>
<td style="text-align: left">ctrl + a</td>
<td style="text-align: left">到行首</td>
</tr>
<tr>
<td style="text-align: left">ctrl + e</td>
<td style="text-align: left">到行尾</td>
</tr>
<tr>
<td style="text-align: left">ctrl + f/b</td>
<td style="text-align: left">前进后退</td>
</tr>
<tr>
<td style="text-align: left">ctrl + p</td>
<td style="text-align: left">上一条命令</td>
</tr>
<tr>
<td style="text-align: left">ctrl + r</td>
<td style="text-align: left">搜索命令历史</td>
</tr>
<tr>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
</tbody>
</table>

<h3 id="toc_11">参考</h3>

<p><a href="http://www.cnblogs.com/xishuai/p/mac-iterm2.html">Mac OS 终端利器 iTerm2</a></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2018-04-18T11:53:44+08:00" itemprop="datePublished">2018/4/18</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='%E5%B7%A5%E5%85%B7.html'>工具</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="15240236247092.html" itemprop="url">
		Alfred</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>强大的只能搜索软件，w安全可以替代OS X自带的Spotlight</p>


			
			
		</div>

	</article>
  

</div>
<nav id="pagenavi">
	 
	
	<div class="center"><a href="archives.html">Blog Archives</a></div>

</nav>

</div>



        </div>
			<footer id="footer" class="inner">Copyright &copy; 2014
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
      </footer>
		</div>
	</div>

  
    



</body>
</html>